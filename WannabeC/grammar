
start
    : line_list
    | function_definition
    ;

function_definition
	: type_specifier ID ( ) line_list
    ;

line_list
    : line_list line_item
    | line_item ";"
    ;

line_item
    : print_expression
    | conditional_expression
    ;

print_expression
    : PRINT expression
    ;

arithmetic_expression
    : arithmetic_expression + arithmetic_term
    | arithmetic_expression - arithmetic_term
    | arithmetic_term
    ;

arithmetic_term
    | arithmetic_term % arithmetic_factor
    : arithmetic_term / arithmetic_factor
    | arithmetic_term * arithmetic_factor
    | arithmetic_factor
    ;

arithmetic_factor
    : NUMBER
    | ( arithmetic_expression )
    ;

boolean_expression
    : arithmetic_expression boolean_operator arithmetic_expression
    ;

boolean_operator
    : '==' 
    | '&&'
    | '||' 
    | '!=' 
    | '=<' 
    | '>='
    | '<'
    | '>' 
    ;

conditional_expression
    : matched_conditional
    | unmatched_conditional

matched_conditional
    : IF ( boolean_expression ) matched_conditional ELSE matched_conditional
    | print_expression

unmatched_conditional
    : IF ( boolean_expression ) conditional_expression
    | IF ( boolean_expression ) matched_conditional ELSE unmatched_conditional
    ;


type_specifier
	: INT
    | VOID
    ;


assignment_expression
    : type_specifier ID assignment_operator arithmetic_expression
	| ID assignment_operator arithmetic_expression
    ;

assignment_operator
	: '='
    ;
